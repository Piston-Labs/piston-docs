<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Living Health Record Spec - Piston Labs</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            line-height: 1.6;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 2rem; }
        h1 { color: #38bdf8; margin-bottom: 0.5rem; font-size: 2rem; }
        h2 { color: #f8fafc; margin: 2rem 0 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid #334155; }
        h3 { color: #94a3b8; margin: 1.5rem 0 0.75rem; font-size: 1rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .subtitle { color: #94a3b8; margin-bottom: 2rem; }
        a { color: #38bdf8; }

        /* Status colors */
        .green { color: #4ade80; }
        .yellow { color: #facc15; }
        .red { color: #f87171; }
        .bg-green { background: rgba(74, 222, 128, 0.15); }
        .bg-yellow { background: rgba(250, 204, 21, 0.15); }
        .bg-red { background: rgba(248, 113, 113, 0.15); }

        /* Spec table */
        .spec-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0 2rem;
            font-size: 0.9rem;
        }
        .spec-table th {
            text-align: left;
            padding: 0.75rem;
            background: #1e293b;
            color: #94a3b8;
            font-weight: 500;
            border-bottom: 1px solid #334155;
        }
        .spec-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #1e293b;
        }
        .spec-table tr:hover { background: rgba(56, 189, 248, 0.05); }
        .spec-table .section-header {
            background: #1e293b;
            color: #38bdf8;
            font-weight: 600;
        }
        .spec-table .section-header td { padding: 0.5rem 0.75rem; }

        /* Example card */
        .example-card {
            background: #1e293b;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid #334155;
        }
        .example-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #334155;
        }
        .vehicle-info h4 { color: #f8fafc; font-size: 1.25rem; }
        .vehicle-info p { color: #64748b; font-size: 0.85rem; }
        .health-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
        }
        .health-good { background: rgba(74, 222, 128, 0.2); color: #4ade80; }
        .health-fair { background: rgba(250, 204, 21, 0.2); color: #facc15; }

        /* Inspection grid */
        .inspection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        .inspection-section {
            background: #0f172a;
            border-radius: 8px;
            padding: 1rem;
        }
        .inspection-section h5 {
            color: #94a3b8;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
        }
        .inspection-item {
            display: flex;
            justify-content: space-between;
            padding: 0.4rem 0;
            font-size: 0.9rem;
        }
        .inspection-item .label { color: #cbd5e1; }
        .inspection-item .value { font-weight: 500; }

        /* Tire grid */
        .tire-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        .tire-item {
            background: #1e293b;
            padding: 0.5rem;
            border-radius: 4px;
            text-align: center;
            font-size: 0.8rem;
        }
        .tire-item .pos { color: #64748b; font-size: 0.7rem; }
        .tire-item .val { font-weight: 600; margin-top: 0.25rem; }

        /* DOT Info box */
        .info-box {
            background: #1e293b;
            border-radius: 8px;
            padding: 1.25rem;
            margin: 1rem 0;
            border-left: 3px solid #38bdf8;
        }
        .info-box h4 { color: #38bdf8; margin-bottom: 0.5rem; }
        .info-box p { color: #94a3b8; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .info-box .cite { font-style: italic; color: #64748b; font-size: 0.85rem; }

        /* Tire age display */
        .tire-age-display {
            background: #0f172a;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        .tire-age-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }
        .tire-age-header .age { font-size: 1.25rem; font-weight: 600; }
        .tire-age-header .dot { color: #64748b; font-size: 0.85rem; }
        .tire-age-bar {
            height: 8px;
            background: #334155;
            border-radius: 4px;
            position: relative;
            margin: 1rem 0 0.5rem;
        }
        .tire-age-bar .fill {
            height: 100%;
            border-radius: 4px;
            background: linear-gradient(90deg, #4ade80 0%, #facc15 60%, #f87171 100%);
        }
        .tire-age-bar .marker {
            position: absolute;
            top: -4px;
            width: 16px;
            height: 16px;
            background: #f8fafc;
            border-radius: 50%;
            transform: translateX(-50%);
        }
        .tire-age-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: #64748b;
        }
        .learn-more {
            color: #38bdf8;
            font-size: 0.85rem;
            cursor: pointer;
            margin-top: 0.75rem;
            display: inline-block;
        }
        .learn-more:hover { text-decoration: underline; }

        /* Expanded info */
        .expanded-info {
            background: #1e293b;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.85rem;
            color: #94a3b8;
            display: none;
        }
        .expanded-info.show { display: block; }
        .expanded-info ul { margin: 0.5rem 0 0.5rem 1.5rem; }
        .expanded-info li { margin: 0.25rem 0; }

        /* Interactive Category List */
        .category-list {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        .category-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #0f172a;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.15s;
        }
        .category-row:hover {
            background: #1e293b;
        }
        .category-name {
            color: #f8fafc;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .chevron {
            font-size: 0.7rem;
            color: #64748b;
            transition: transform 0.2s;
            display: inline-block;
        }
        .chevron.open {
            transform: rotate(90deg);
        }
        .category-status {
            font-size: 0.85rem;
            font-weight: 500;
        }
        .category-items {
            display: none;
            background: #0f172a;
            border-radius: 0 0 6px 6px;
            margin-top: -2px;
            padding: 0 0.5rem 0.5rem 2rem;
        }
        .category-items.open {
            display: block;
        }
        .item-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            margin: 2px 0;
            background: #1e293b;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.15s;
        }
        .item-row:hover {
            background: #334155;
        }
        .item-name {
            color: #cbd5e1;
            font-size: 0.9rem;
        }
        .item-value {
            font-weight: 600;
            font-size: 0.9rem;
        }
        .item-detail {
            display: none;
            padding: 0 0.5rem;
        }
        .item-detail.open {
            display: block;
        }
        .tech-notes {
            background: #1e293b;
            border-left: 3px solid #4ade80;
            border-radius: 0 4px 4px 0;
            padding: 1rem;
            margin: 4px 0 8px;
        }
        .tech-notes.warn {
            border-left-color: #facc15;
        }
        .tech-notes.critical {
            border-left-color: #f87171;
        }
        .tech-notes-header {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #64748b;
            margin-bottom: 0.5rem;
        }
        .tech-notes p {
            color: #94a3b8;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .tech-notes-meta {
            margin-top: 0.75rem;
            font-size: 0.8rem;
            color: #475569;
        }

        /* No Data State */
        .category-row.no-data {
            opacity: 0.5;
        }
        .category-row.no-data .category-name {
            color: #64748b;
        }
        .category-status.no-data {
            color: #475569;
            font-style: italic;
        }
        .no-data-message {
            padding: 1rem;
            color: #475569;
            font-size: 0.85rem;
            font-style: italic;
            text-align: center;
        }

        /* Demo Toggle */
        .demo-toggle {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: #1e293b;
            border-radius: 8px;
        }
        .demo-toggle button {
            padding: 0.5rem 1rem;
            border: 1px solid #334155;
            background: #0f172a;
            color: #94a3b8;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.15s;
        }
        .demo-toggle button:hover {
            background: #1e293b;
            color: #f8fafc;
        }
        .demo-toggle button.active {
            background: #38bdf8;
            color: #0f172a;
            border-color: #38bdf8;
        }
        .demo-toggle-label {
            color: #64748b;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            margin-right: 0.5rem;
        }

        /* Decision Box */
        .decision-box {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .decision-box h4 {
            color: #f59e0b;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .decision-box h4::before {
            content: "?";
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background: #f59e0b;
            color: #0f172a;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.9rem;
        }
        .decision-option {
            background: #0f172a;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 3px solid #334155;
        }
        .decision-option h5 {
            color: #f8fafc;
            margin-bottom: 0.5rem;
        }
        .decision-option p {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .decision-option .pros { color: #4ade80; }
        .decision-option .cons { color: #f87171; }

        /* Product Spec Section */
        .product-spec {
            background: #1e293b;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .product-spec h4 {
            color: #38bdf8;
            margin-bottom: 0.75rem;
        }
        .product-spec h5 {
            color: #f8fafc;
            margin: 1rem 0 0.5rem;
            font-size: 0.95rem;
        }
        .product-spec p {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        .product-spec ul {
            margin: 0.5rem 0 0.5rem 1.5rem;
            color: #94a3b8;
            font-size: 0.9rem;
        }
        .product-spec li {
            margin: 0.35rem 0;
        }
        .product-spec code {
            background: #0f172a;
            padding: 0.15rem 0.4rem;
            border-radius: 3px;
            font-size: 0.85rem;
            color: #e2e8f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <p style="margin-bottom: 1rem;"><a href="/">&larr; Back to Docs</a></p>

        <h1>Living Health Record</h1>
        <p class="subtitle">Vehicle health inspection format for Glovebox beta</p>

        <h2>Core Inspection Items</h2>
        <p style="color: #94a3b8; margin-bottom: 1rem;">27 items that matter most to vehicle owners, with high shop capture rates.</p>

        <table class="spec-table">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Measurement</th>
                    <th class="green">Green</th>
                    <th class="yellow">Yellow</th>
                    <th class="red">Red</th>
                </tr>
            </thead>
            <tbody>
                <tr class="section-header"><td colspan="5">Brakes</td></tr>
                <tr>
                    <td>Front Brake Pads</td>
                    <td>mm thickness</td>
                    <td class="green">&gt;5mm</td>
                    <td class="yellow">3-5mm</td>
                    <td class="red">&lt;3mm</td>
                </tr>
                <tr>
                    <td>Rear Brake Pads</td>
                    <td>mm thickness</td>
                    <td class="green">&gt;5mm</td>
                    <td class="yellow">3-5mm</td>
                    <td class="red">&lt;3mm</td>
                </tr>

                <tr class="section-header"><td colspan="5">Tires</td></tr>
                <tr>
                    <td>Tire Tread (LF, RF, LR, RR)</td>
                    <td>32nds inch</td>
                    <td class="green">&gt;6/32"</td>
                    <td class="yellow">4-6/32"</td>
                    <td class="red">&lt;4/32"</td>
                </tr>
                <tr>
                    <td>Tire Pressure (LF, RF, LR, RR)</td>
                    <td>PSI</td>
                    <td class="green">at spec</td>
                    <td class="yellow">&plusmn;5 PSI</td>
                    <td class="red">&gt;10 off</td>
                </tr>
                <tr>
                    <td>Tire Age (LF, RF, LR, RR)</td>
                    <td>years (from DOT)</td>
                    <td class="green">&lt;6 yrs</td>
                    <td class="yellow">6-8 yrs</td>
                    <td class="red">&gt;8 yrs</td>
                </tr>

                <tr class="section-header"><td colspan="5">Fluids</td></tr>
                <tr>
                    <td>Engine Oil</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Brake Fluid</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Coolant</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Transmission Fluid</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Power Steering Fluid</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>

                <tr class="section-header"><td colspan="5">Filters</td></tr>
                <tr>
                    <td>Engine Air Filter</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Cabin Air Filter</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>

                <tr class="section-header"><td colspan="5">Battery</td></tr>
                <tr>
                    <td>Battery Voltage</td>
                    <td>volts</td>
                    <td class="green">&gt;12.4V</td>
                    <td class="yellow">12.0-12.4V</td>
                    <td class="red">&lt;12.0V</td>
                </tr>
                <tr>
                    <td>Battery CCA</td>
                    <td>% of rated</td>
                    <td class="green">&gt;80%</td>
                    <td class="yellow">50-80%</td>
                    <td class="red">&lt;50%</td>
                </tr>
                <tr>
                    <td>Battery Age</td>
                    <td>months</td>
                    <td class="green">&lt;48 mo</td>
                    <td class="yellow">48-60 mo</td>
                    <td class="red">&gt;60 mo</td>
                </tr>

                <tr class="section-header"><td colspan="5">Under Hood</td></tr>
                <tr>
                    <td>Belts</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Hoses</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Leaks</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Radiator/Cooling System</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Other (Under Hood)</td>
                    <td>status + notes</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>

                <tr class="section-header"><td colspan="5">Undercarriage</td></tr>
                <tr>
                    <td>Suspension</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Steering</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Driveshaft</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Axles</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Exhaust</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Brake Hoses</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Other (Undercarriage)</td>
                    <td>status + notes</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>

                <tr class="section-header"><td colspan="5">Visibility</td></tr>
                <tr>
                    <td>Wiper Blades</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
                <tr>
                    <td>Lights</td>
                    <td>status</td>
                    <td class="green">OK</td>
                    <td class="yellow">Monitor</td>
                    <td class="red">Service Required</td>
                </tr>
            </tbody>
        </table>

        <h2>Interactive Display (Prototype)</h2>
        <p style="color: #94a3b8; margin-bottom: 1rem;">Click categories to expand, click items to see technician notes. This demonstrates the progressive disclosure pattern.</p>

        <div class="demo-toggle">
            <span class="demo-toggle-label">Data Mode:</span>
            <button id="btn-full" class="active" onclick="setDataMode('full')">Full Inspection</button>
            <button id="btn-partial" onclick="setDataMode('partial')">Partial Data</button>
        </div>

        <div class="example-card">
            <div class="example-header">
                <div class="vehicle-info">
                    <h4>2019 Honda Accord</h4>
                    <p>Last inspected: Jan 15, 2026 at 47,823 mi</p>
                </div>
                <div class="health-badge health-fair">Fair</div>
            </div>

            <!-- Category Summary View (Level 1) -->
            <div class="category-list" id="categoryList">
                <div class="category-row" onclick="toggleCategory('brakes')">
                    <span class="category-name"><span class="chevron" id="chevron-brakes">&#9654;</span> Brakes</span>
                    <span class="category-status yellow">1 item to monitor</span>
                </div>
                <div class="category-items" id="items-brakes">
                    <div class="item-row" onclick="toggleItem(event, 'brakes-front')">
                        <span class="item-name">Front Pads</span>
                        <span class="item-value green">7mm</span>
                    </div>
                    <div class="item-detail" id="detail-brakes-front">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Measured at 7mm. Plenty of life remaining, no uneven wear observed. Rotors in good condition.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'brakes-rear')">
                        <span class="item-name">Rear Pads</span>
                        <span class="item-value yellow">4mm</span>
                    </div>
                    <div class="item-detail" id="detail-brakes-rear">
                        <div class="tech-notes warn">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Measured at 4mm. Approaching minimum thickness. Recommend replacing at next service or within 5,000 miles. Slight glazing noted on inboard pad.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>

                <div class="category-row" onclick="toggleCategory('fluids')">
                    <span class="category-name"><span class="chevron" id="chevron-fluids">&#9654;</span> Fluids</span>
                    <span class="category-status yellow">1 item to monitor</span>
                </div>
                <div class="category-items" id="items-fluids">
                    <div class="item-row" onclick="toggleItem(event, 'fluids-oil')">
                        <span class="item-name">Engine Oil</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-fluids-oil">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Level full, color amber/golden. Recently changed per customer - 1,200 miles on current oil.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'fluids-brake')">
                        <span class="item-name">Brake Fluid</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-fluids-brake">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Level at MAX line. Fluid clear with slight amber tint. Tested moisture content at 1.2% - within acceptable range.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'fluids-coolant')">
                        <span class="item-name">Coolant</span>
                        <span class="item-value yellow">Monitor</span>
                    </div>
                    <div class="item-detail" id="detail-fluids-coolant">
                        <div class="tech-notes warn">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Level slightly below MIN line in reservoir. Topped off during service. No visible leaks found. Recommend monitoring level - if it drops again, further diagnosis needed for potential leak.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'fluids-trans')">
                        <span class="item-name">Transmission</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-fluids-trans">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Checked via dipstick at operating temp. Level correct, fluid bright red with no burnt smell.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'fluids-ps')">
                        <span class="item-name">Power Steering</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-fluids-ps">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Level at full mark. Fluid clean, no contamination.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>

                <div class="category-row" onclick="toggleCategory('filters')">
                    <span class="category-name"><span class="chevron" id="chevron-filters">&#9654;</span> Filters</span>
                    <span class="category-status red">1 needs service</span>
                </div>
                <div class="category-items" id="items-filters">
                    <div class="item-row" onclick="toggleItem(event, 'filters-engine')">
                        <span class="item-name">Engine Air</span>
                        <span class="item-value yellow">Monitor</span>
                    </div>
                    <div class="item-detail" id="detail-filters-engine">
                        <div class="tech-notes warn">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Filter showing moderate dirt accumulation. Still functional but approaching replacement. Recommend replacing within next 10,000 miles or at next oil change.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'filters-cabin')">
                        <span class="item-name">Cabin Air</span>
                        <span class="item-value red">Service Required</span>
                    </div>
                    <div class="item-detail" id="detail-filters-cabin">
                        <div class="tech-notes critical">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Filter heavily contaminated with debris, dust, and some leaf matter. Restricting airflow - customer mentioned reduced AC performance. Strongly recommend immediate replacement.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>

                <div class="category-row" onclick="toggleCategory('battery')">
                    <span class="category-name"><span class="chevron" id="chevron-battery">&#9654;</span> Battery</span>
                    <span class="category-status green">All OK</span>
                </div>
                <div class="category-items" id="items-battery">
                    <div class="item-row" onclick="toggleItem(event, 'battery-voltage')">
                        <span class="item-name">Voltage</span>
                        <span class="item-value green">12.6V</span>
                    </div>
                    <div class="item-detail" id="detail-battery-voltage">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Resting voltage measured at 12.6V - indicates full charge. Terminals clean, no corrosion.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'battery-cca')">
                        <span class="item-name">CCA</span>
                        <span class="item-value green">92%</span>
                    </div>
                    <div class="item-detail" id="detail-battery-cca">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Load test: 552 CCA measured vs 600 CCA rated = 92% capacity. Strong cranking power, passes test.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'battery-age')">
                        <span class="item-name">Age</span>
                        <span class="item-value green">36 months</span>
                    </div>
                    <div class="item-detail" id="detail-battery-age">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Date code indicates January 2023 manufacture. 3 years old - typically 4-5 year lifespan. Good condition for age.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>

                <div class="category-row" onclick="toggleCategory('tires')">
                    <span class="category-name"><span class="chevron" id="chevron-tires">&#9654;</span> Tires</span>
                    <span class="category-status yellow">2 items to monitor</span>
                </div>
                <div class="category-items" id="items-tires">
                    <div class="item-row" onclick="toggleItem(event, 'tires-tread')">
                        <span class="item-name">Tread Depth</span>
                        <span class="item-value yellow">5-7/32"</span>
                    </div>
                    <div class="item-detail" id="detail-tires-tread">
                        <div class="tech-notes warn">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>LF: 7/32" | RF: 6/32" | LR: 5/32" | RR: 5/32"</p>
                            <p style="margin-top: 0.5rem;">Rear tires showing more wear than fronts - normal for this FWD vehicle. Rears approaching 4/32" threshold. Recommend tire rotation and monitoring. Consider replacement in 10-15k miles.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'tires-pressure')">
                        <span class="item-name">Pressure</span>
                        <span class="item-value green">32-33 PSI</span>
                    </div>
                    <div class="item-detail" id="detail-tires-pressure">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>All tires within spec. Set to placard recommendation of 32 PSI during service. TPMS functioning correctly.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'tires-age')">
                        <span class="item-name">Age</span>
                        <span class="item-value yellow">6 years</span>
                    </div>
                    <div class="item-detail" id="detail-tires-age">
                        <div class="tech-notes warn">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>DOT code: 2419 (Week 24, 2019) - all four tires match. At 6 years, tires are entering the age monitoring window. No visible dry rot or sidewall cracking at this time. Industry guidelines suggest annual inspection after 5 years.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>

                <div class="category-row" onclick="toggleCategory('underhood')">
                    <span class="category-name"><span class="chevron" id="chevron-underhood">&#9654;</span> Under Hood</span>
                    <span class="category-status yellow">1 item to monitor</span>
                </div>
                <div class="category-items" id="items-underhood">
                    <div class="item-row" onclick="toggleItem(event, 'underhood-belts')">
                        <span class="item-name">Belts</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-underhood-belts">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Serpentine belt in good condition. No cracking, fraying, or glazing. Proper tension.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'underhood-hoses')">
                        <span class="item-name">Hoses</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-underhood-hoses">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>All coolant hoses firm with no soft spots. Clamps secure, no visible seepage at connections.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'underhood-leaks')">
                        <span class="item-name">Leaks</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-underhood-leaks">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>No active leaks observed. Engine bay dry. Minor valve cover seepage (common for age) but not dripping - monitor only.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'underhood-radiator')">
                        <span class="item-name">Radiator/Cooling</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-underhood-radiator">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Radiator fins in good condition, no damage or blockage. Cap holds pressure. No leaks at tanks or seams. Fan operates correctly.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'underhood-other')">
                        <span class="item-name">Other</span>
                        <span class="item-value yellow">Monitor</span>
                    </div>
                    <div class="item-detail" id="detail-underhood-other">
                        <div class="tech-notes warn">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Found one missing bolt on air box cover. Still secure but should be replaced. Also noted aftermarket air intake installed.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>

                <div class="category-row" onclick="toggleCategory('undercarriage')">
                    <span class="category-name"><span class="chevron" id="chevron-undercarriage">&#9654;</span> Undercarriage</span>
                    <span class="category-status yellow">1 item to monitor</span>
                </div>
                <div class="category-items" id="items-undercarriage">
                    <div class="item-row" onclick="toggleItem(event, 'undercarriage-suspension')">
                        <span class="item-name">Suspension</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-undercarriage-suspension">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Shocks not leaking, bushings intact. No excessive play in ball joints or tie rod ends. Control arm bushings showing normal wear for mileage.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'undercarriage-steering')">
                        <span class="item-name">Steering</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-undercarriage-steering">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Tie rod ends tight with no play. Rack boots intact. No leaks from steering rack. Steering responsive with no wandering.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'undercarriage-driveshaft')">
                        <span class="item-name">Driveshaft</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-undercarriage-driveshaft">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>U-joints checked - no play or binding. Center support bearing quiet. No vibration reported by customer.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'undercarriage-axles')">
                        <span class="item-name">Axles</span>
                        <span class="item-value yellow">Monitor</span>
                    </div>
                    <div class="item-detail" id="detail-undercarriage-axles">
                        <div class="tech-notes warn">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Driver side outer CV boot showing small crack starting to form. Not yet leaking grease. Recommend monitoring - if grease appears or crack worsens, will need boot replacement or axle replacement.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'undercarriage-exhaust')">
                        <span class="item-name">Exhaust</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-undercarriage-exhaust">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Exhaust system intact, all hangers secure. Surface rust on muffler but not concerning. No leaks detected.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'undercarriage-brakehoses')">
                        <span class="item-name">Brake Hoses</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-undercarriage-brakehoses">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>All flexible brake lines inspected. No cracking, swelling, or leaks at wheel cylinders. Fittings secure.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'undercarriage-other')">
                        <span class="item-name">Other</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-undercarriage-other">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Undercarriage inspection complete. Splash shields intact. No impact damage or loose fasteners noted.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>

                <div class="category-row" onclick="toggleCategory('visibility')">
                    <span class="category-name"><span class="chevron" id="chevron-visibility">&#9654;</span> Visibility</span>
                    <span class="category-status green">All OK</span>
                </div>
                <div class="category-items" id="items-visibility">
                    <div class="item-row" onclick="toggleItem(event, 'visibility-wipers')">
                        <span class="item-name">Wiper Blades</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-visibility-wipers">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>Both front wipers clearing windshield cleanly. No streaking or chattering. Rubber in good condition.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                    <div class="item-row" onclick="toggleItem(event, 'visibility-lights')">
                        <span class="item-name">Lights</span>
                        <span class="item-value green">OK</span>
                    </div>
                    <div class="item-detail" id="detail-visibility-lights">
                        <div class="tech-notes">
                            <div class="tech-notes-header">Technician Notes</div>
                            <p>All exterior lights functional: headlights (low/high), taillights, brake lights, turn signals, reverse lights, license plate light. No bulbs out.</p>
                            <div class="tech-notes-meta">Inspected by: Mike T. at Main Street Auto</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <h2>Tire Age Display</h2>
        <p style="color: #94a3b8; margin-bottom: 1rem;">DOT date codes converted to human-readable format with educational context.</p>

        <div class="example-card">
            <h5 style="color: #94a3b8; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 1rem;">Tire Age - Left Front</h5>

            <div class="tire-age-display">
                <div class="tire-age-header">
                    <div>
                        <div class="age yellow">6 years old</div>
                        <div style="color: #94a3b8; font-size: 0.9rem;">Manufactured: June 2019</div>
                    </div>
                    <div class="dot">DOT: 2419</div>
                </div>

                <div class="tire-age-bar">
                    <div class="fill" style="width: 100%;"></div>
                    <div class="marker" style="left: 60%;"></div>
                </div>
                <div class="tire-age-labels">
                    <span>New</span>
                    <span>6 yrs</span>
                    <span>10 yrs</span>
                </div>

                <span class="learn-more" onclick="toggleInfo()">Learn more about tire age</span>

                <div class="expanded-info" id="tireInfo">
                    <h4 style="color: #f8fafc; margin-bottom: 0.5rem;">Understanding Tire Age</h4>
                    <p>The DOT code on your tire sidewall includes a 4-digit date code. "2419" means week 24 of 2019.</p>

                    <p style="margin-top: 0.75rem;"><strong style="color: #cbd5e1;">Industry Reference:</strong></p>
                    <p>According to the National Highway Traffic Safety Administration (NHTSA) and most tire manufacturers, tires degrade over time due to environmental factors even when not in use. Industry guidelines generally note:</p>
                    <ul>
                        <li>Tires should be inspected annually after 5 years of service</li>
                        <li>6-10 years is the typical service life range cited by manufacturers</li>
                        <li>Actual tire condition depends on wear, storage, and climate factors</li>
                    </ul>
                    <p style="margin-top: 0.75rem;">Your shop can assess your tire's actual condition and provide guidance specific to your situation.</p>
                </div>
            </div>
        </div>

        <h2>Design Principles</h2>

        <div class="info-box">
            <h4>No Direct Recommendations</h4>
            <p>We state facts and cite industry sources. Actual service recommendations come from the vehicle owner's shop.</p>
            <p class="cite">"Your shop can assess your tire's actual condition and advise based on wear, storage, and climate."</p>
        </div>

        <div class="info-box">
            <h4>Green / Yellow / Red Status</h4>
            <p>Industry-standard color coding that consumers already understand from digital vehicle inspections (DVI).</p>
            <p class="cite">Color thresholds based on manufacturer specs and industry guidelines (NHTSA, tire/brake manufacturers).</p>
        </div>

        <div class="info-box">
            <h4>High-Value Items Only</h4>
            <p>14 items that cover safety concerns (brakes, tires, lights) and common maintenance (fluids, filters, battery). These are what shops check on every visit and what owners care about most.</p>
        </div>

        <h2>Data Schema</h2>
        <pre style="background: #1e293b; padding: 1rem; border-radius: 8px; overflow-x: auto; font-size: 0.85rem; color: #94a3b8;">
{
  "vin": "1HGCV1F34KA012345",
  "lastInspectionDate": "2026-01-15",
  "odometerAtInspection": 47823,
  "inspectingShop": "Main Street Auto",

  "brakes": {
    "frontPads": { "mm": 7, "status": "good" },
    "rearPads": { "mm": 4, "status": "monitor" }
  },

  "tires": {
    "lf": { "tread32nds": 7, "pressurePsi": 32, "dotCode": "2419", "ageYears": 6 },
    "rf": { "tread32nds": 6, "pressurePsi": 33, "dotCode": "2419", "ageYears": 6 },
    "lr": { "tread32nds": 5, "pressurePsi": 32, "dotCode": "2419", "ageYears": 6 },
    "rr": { "tread32nds": 5, "pressurePsi": 32, "dotCode": "2419", "ageYears": 6 },
    "recommendedPsi": 32
  },

  "fluids": {
    "oil": { "status": "ok" },
    "brake": { "status": "ok" },
    "coolant": { "status": "monitor" },
    "transmission": { "status": "ok" },
    "powerSteering": { "status": "ok" }
  },

  "filters": {
    "engineAir": { "status": "monitor" },
    "cabinAir": { "status": "service_required" }
  },

  "battery": {
    "voltage": 12.6,
    "ccaPercent": 92,
    "ageMonths": 36
  },

  "underHood": {
    "belts": { "status": "ok" },
    "hoses": { "status": "ok" },
    "leaks": { "status": "ok" },
    "radiator": { "status": "ok" },
    "other": { "status": "monitor", "notes": ["missing bolt on air box"] }
  },

  "undercarriage": {
    "suspension": { "status": "ok" },
    "steering": { "status": "ok" },
    "driveshaft": { "status": "ok" },
    "axles": { "status": "monitor" },
    "exhaust": { "status": "ok" },
    "brakeHoses": { "status": "ok" },
    "other": { "status": "ok", "notes": [] }
  },

  "visibility": {
    "wiperBlades": { "status": "ok" },
    "lights": { "status": "ok" }
  },

  "overallHealth": "fair",
  "attentionItems": [
    { "item": "Cabin Air Filter", "status": "service_required" },
    { "item": "Coolant", "status": "monitor" },
    { "item": "Engine Air Filter", "status": "monitor" },
    { "item": "Rear Brake Pads", "status": "monitor" },
    { "item": "Axles", "status": "monitor" },
    { "item": "Under Hood Other", "status": "monitor", "notes": ["missing bolt on air box"] }
  ]
}
        </pre>

        <h2>Product Specification for Implementation</h2>
        <p style="color: #94a3b8; margin-bottom: 1rem;">Feature requirements and UX principles for the engineering team.</p>

        <div class="product-spec">
            <h4>1. Progressive Disclosure Pattern</h4>
            <p><strong style="color: #f8fafc;">The Core Idea:</strong> Users should feel confident about their vehicle's health at a glance, without being overwhelmed by technical details. Details are available on-demand for those who want them.</p>

            <h5>Level 1: Category Summary (Default View)</h5>
            <p>When the user opens their vehicle health record, they see a list of categories (Brakes, Fluids, Tires, etc.) with a high-level status indicator:</p>
            <ul>
                <li><code class="green">All OK</code> - Everything in this category is green</li>
                <li><code class="yellow">X items to monitor</code> - Some items need attention soon</li>
                <li><code class="red">X needs service</code> - At least one item requires action</li>
            </ul>
            <p>This lets users instantly see "do I need to worry about anything?" without processing 26 individual items.</p>

            <h5>Level 2: Item List (Category Expanded)</h5>
            <p>Tapping a category expands it to show all items within that category. Each item shows:</p>
            <ul>
                <li>Item name (e.g., "Engine Oil", "Front Pads")</li>
                <li>Status value (e.g., "OK", "Monitor", "7mm", "12.6V")</li>
                <li>Color-coded status (green/yellow/red)</li>
            </ul>
            <p>Users can now see which specific item needs attention, if any.</p>

            <h5>Level 3: Technician Notes (Item Expanded)</h5>
            <p>Tapping an item reveals the raw technician notes from the inspection. This includes:</p>
            <ul>
                <li>What the technician actually observed/measured</li>
                <li>Any context or recommendations they provided</li>
                <li>Who performed the inspection and where</li>
            </ul>
            <p>This is the "show me exactly what they found" layer for users who want full transparency.</p>
        </div>

        <div class="product-spec">
            <h4>2. Why This Matters (User Psychology)</h4>

            <h5>Confidence Without Overload</h5>
            <p>Most users don't want to read 26 inspection items. They want to know: "Is my car okay?" The category summary answers that question in 2 seconds. Power users can dig deeper.</p>

            <h5>Actionable, Not Alarming</h5>
            <p>Yellow items should feel like "something to keep an eye on" - not scary. Red items are "you should handle this soon." The language should be specific enough to act on, without being alarmist.</p>

            <h5>Trust Through Transparency</h5>
            <p>Showing the actual technician notes builds trust. Users can see the exact language the shop used, verify measurements, and understand the context behind each status. This differentiates us from black-box "your car needs X" apps.</p>
        </div>

        <div class="product-spec">
            <h4>3. Implementation Requirements</h4>

            <h5>Data Model Extensions</h5>
            <p>Each item in the schema needs to support an optional <code>techNotes</code> field:</p>
            <ul>
                <li><code>techNotes.raw</code> - The original text from the shop's inspection report</li>
                <li><code>techNotes.inspectedBy</code> - Technician name (if available)</li>
                <li><code>techNotes.shopName</code> - Shop that performed the inspection</li>
            </ul>

            <h5>Category Aggregation Logic</h5>
            <p>The category status badge should use this priority:</p>
            <ul>
                <li>If ANY item is <code>service_required</code>  Show "X needs service" (red)</li>
                <li>Else if ANY item is <code>monitor</code>  Show "X items to monitor" (yellow)</li>
                <li>Else  Show "All OK" (green)</li>
            </ul>

            <h5>Animation & Affordance</h5>
            <ul>
                <li>Chevron should rotate 90 when category expands (indicates "this is expandable")</li>
                <li>Items should slide in smoothly (150-200ms ease)</li>
                <li>Tap targets should be large enough for mobile (min 44px height)</li>
                <li>Consider subtle hover/press states to indicate interactivity</li>
            </ul>

            <h5>Empty State Handling</h5>
            <p>If an item has no technician notes (status only, no details), show a placeholder:</p>
            <ul>
                <li>"No additional notes from this inspection"</li>
                <li>Still show the inspector/shop if available</li>
            </ul>
        </div>

        <div class="product-spec">
            <h4>4. Future Considerations</h4>

            <h5>History View</h5>
            <p>Eventually, users should be able to see how an item changed over time. "Rear brakes went from 7mm  5mm  4mm over 3 inspections." This requires storing historical snapshots.</p>

            <h5>Comparison to Industry Standards</h5>
            <p>Show where the user's measurement falls on a spectrum. The tire age bar in this doc is an example - showing 6 years on a 0-10 year scale with color zones.</p>

            <h5>Push Notifications</h5>
            <p>When a new inspection comes in, notify users if status changed (especially if something went from green  yellow, or yellow  red).</p>

            <h5>Quick Actions</h5>
            <p>On items that need attention, offer a "Schedule Service" CTA that pre-fills the issue into a service request to the shop that performed the inspection.</p>
        </div>

        <div class="product-spec">
            <h4>5. Accessibility Notes</h4>
            <ul>
                <li>Don't rely on color alone - always include text status ("OK", "Monitor", "Service Required")</li>
                <li>Expandable sections need proper <code>aria-expanded</code> attributes</li>
                <li>Screen readers should announce the category name AND status together</li>
                <li>Ensure sufficient color contrast (the yellow on dark background may need tweaking)</li>
            </ul>
        </div>

        <h2>Design Decision: Handling Missing Data</h2>
        <p style="color: #94a3b8; margin-bottom: 1rem;">When we only have inspection data for some items (e.g., brakes and tires but not fluids), how should we display the health record? Use the toggle above to see both approaches in action.</p>

        <div class="decision-box">
            <h4>Decision Needed: Show Empty Categories?</h4>

            <div class="decision-option">
                <h5>Option A: Only Show What We Have</h5>
                <p>If we only have brake and tire data, only show Brakes and Tires categories. Hide everything else.</p>
                <p class="pros">+ Clean, focused display</p>
                <p class="pros">+ No confusing "Unknown" or "Not inspected" states</p>
                <p class="pros">+ Builds confidence in what IS shown</p>
                <p class="cons">- User doesn't know what COULD be shown</p>
                <p class="cons">- "Did they check my battery?" - no way to know</p>
                <p class="cons">- Loses the "complete picture" mental model</p>
            </div>

            <div class="decision-option">
                <h5>Option B: Show Everything with "Not Inspected"</h5>
                <p>Always show all 8 categories. Categories without data show "Not inspected" (grayed out, collapsed).</p>
                <p class="pros">+ Transparent about what wasn't checked</p>
                <p class="pros">+ User knows the full scope of possible inspections</p>
                <p class="pros">+ Encourages shops to capture more data over time</p>
                <p class="cons">- Screen full of "Not inspected" looks incomplete</p>
                <p class="cons">- May undermine confidence ("why is so much missing?")</p>
                <p class="cons">- More visual noise for partial inspections</p>
            </div>

            <div class="decision-option">
                <h5>Option C: Hybrid - Collapsed Empty Categories</h5>
                <p>Show all categories, but auto-expand only those WITH data. Empty categories are collapsed and de-emphasized. User can tap to see "what could be here."</p>
                <p class="pros">+ Focus on what we have (expanded) while showing scope (collapsed)</p>
                <p class="pros">+ User can explore empty categories if curious</p>
                <p class="pros">+ Graceful progression as more data comes in</p>
                <p class="cons">- Slightly more complex to implement</p>
                <p class="cons">- May still feel "incomplete" to some users</p>
            </div>

            <div style="margin-top: 1.5rem; padding: 1rem; background: #1e293b; border-radius: 8px;">
                <p style="color: #f8fafc; margin-bottom: 0.5rem;"><strong>Recommendation:</strong> Option C (Hybrid)</p>
                <p style="color: #94a3b8; font-size: 0.9rem;">This balances transparency with focus. Categories with data expand automatically and draw the eye. Empty categories are visible but de-emphasized, communicating "we can show more as shops capture it" without overwhelming the user with unknowns.</p>
            </div>

            <p style="color: #64748b; font-size: 0.85rem; margin-top: 1rem; font-style: italic;">Ryan: Toggle "Partial Data" mode above to see Option C in action. Let us know which approach you prefer for beta.</p>
        </div>

        <p style="color: #64748b; margin-top: 3rem; padding-top: 1rem; border-top: 1px solid #334155; font-size: 0.85rem;">
            Living Health Record Spec v1.0 - Piston Labs / Glovebox Beta<br>
            Created: February 2026
        </p>
    </div>

    <script>
        function toggleInfo() {
            const info = document.getElementById('tireInfo');
            info.classList.toggle('show');
        }

        function toggleCategory(category) {
            const items = document.getElementById('items-' + category);
            const chevron = document.getElementById('chevron-' + category);
            items.classList.toggle('open');
            chevron.classList.toggle('open');
        }

        function toggleItem(event, item) {
            event.stopPropagation(); // Prevent category toggle
            const detail = document.getElementById('detail-' + item);
            detail.classList.toggle('open');
        }

        // Data mode toggle for demonstrating partial vs full data
        let currentMode = 'full';

        // Categories that have data in partial mode (simulating brakes + tires only)
        const partialDataCategories = ['brakes', 'tires'];

        function setDataMode(mode) {
            currentMode = mode;

            // Update button states
            document.getElementById('btn-full').classList.toggle('active', mode === 'full');
            document.getElementById('btn-partial').classList.toggle('active', mode === 'partial');

            // Get all category rows
            const categories = ['brakes', 'fluids', 'filters', 'battery', 'tires', 'underhood', 'undercarriage', 'visibility'];

            categories.forEach(cat => {
                const row = document.querySelector(`[onclick="toggleCategory('${cat}')"]`);
                const items = document.getElementById('items-' + cat);
                const chevron = document.getElementById('chevron-' + cat);
                const statusSpan = row.querySelector('.category-status');

                if (mode === 'partial' && !partialDataCategories.includes(cat)) {
                    // No data state
                    row.classList.add('no-data');
                    statusSpan.classList.add('no-data');
                    statusSpan.dataset.originalText = statusSpan.textContent;
                    statusSpan.textContent = 'Not inspected';
                    items.classList.remove('open');
                    chevron.classList.remove('open');
                } else {
                    // Has data
                    row.classList.remove('no-data');
                    statusSpan.classList.remove('no-data');
                    if (statusSpan.dataset.originalText) {
                        statusSpan.textContent = statusSpan.dataset.originalText;
                    }
                    // Auto-expand categories with data in partial mode
                    if (mode === 'partial' && partialDataCategories.includes(cat)) {
                        items.classList.add('open');
                        chevron.classList.add('open');
                    }
                }
            });
        }
    </script>
</body>
</html>
